CREATE DATABASE SA4_AVALIACAO
==
CREATE TABLE IF NOT EXISTS CLIENTE (
    ID_CLIENTE SERIAL PRIMARY KEY,
    nome VARCHAR(30) NOT NULL,
    sobrenome VARCHAR(30) NOT NULL,
    email VARCHAR(30) NOT NULL
    
);
==
ALTER TABLE CLIENTE
ADD CONSTRAINT email_unique UNIQUE (email);
==
CREATE TABLE IF NOT EXISTS PEDIDOS (
    ID SERIAL PRIMARY KEY,
    ID_CLIENTE INT,
    DATA_PEDIDO DATE,
   TOTAL INT
);
==
ALTER TABLE  PEDIDOS
ADD CONSTRAINT ID_CLIENTE
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE
==
ALTER TABLE PEDIDOS
ADD Status VARCHAR(20) DEFAULT 'EM ANDAMENTO' CHECK(Status IN ('EM ANDAMENTO', 'FINALIZADO', 'CANCELADO'));
==
INSERT INTO CLIENTE (NOME, SOBRENOME, EMAIL)
VALUES ('Jo√£o', 'Silva' ,'joao@example.com');
==
INSERT INTO PEDIDOS (ID_Cliente, Data_Pedido, Total, Status)
VALUES (2, '2024-04-05', 90.00, 'EM ANDAMENTO');
==
UPDATE PEDIDOS
SET DATA_PEDIDO = '2024-02-02', TOTAL= 999, STATUS='CANCELADO' 
WHERE ID = 2;
==
DELETE FROM PEDIDOS
WHERE ID_Cliente = 3;
==
DELETE FROM Cliente
WHERE ID_Cliente = 3;
==
SELECT * FROM PEDIDOS WHERE STATUS = 'EM ANDAMENTO';
==
SELECT CLIENTE.NOME , PEDIDOS.DATA_PEDIDO, PEDIDOS.TOTAL 
FROM PEDIDOS JOIN CLIENTE  ON  CLIENTE.ID_CLIENTE = PEDIDOS.ID 
WHERE PEDIDOS.DATA_PEDIDO <= '2025-09-09' ;













SELECT COLUMN_NAME, DATA_TYPE
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'CLIENTE';
